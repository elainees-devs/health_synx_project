{% extends "base.html" %}

{% block title %}Doctor Queue{% endblock %}

{% block header %}Doctor Queue{% endblock %}

{% block content %}

<a href="{% url 'doctor_dashboard' %}" class="button">&larr; Back</a>

<table>
    <thead>
        <tr>
            <th>#</th>
            <th>Patient Name</th>
            <th>Temperature (Â°C)</th>
            <th>Pulse Rate</th>
            <th>Recorded At</th>
            <th>Status</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for item in queue %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ item.patient.first_name }} {{ item.patient.last_name }}</td>
            <td>{{ item.vitals.temperature }}</td>
            <td>{{ item.vitals.pulse_rate }}</td>
            <td>{{ item.vitals.recorded_at }}</td>
            <td>{{ item.get_status_display }}</td>
            <td>
                <a href="{% url 'update_queue_status' item.id 'with_doctor' %}" class="button" style="background-color:#17a2b8;">See Patient</a>
                <a href="{% url 'update_queue_status' item.id 'sent_to_lab' %}" class="button" style="background-color:#ffc107;">Send to Lab</a>
                <a href="{% url 'update_queue_status' item.id 'sent_to_pharmacy' %}" class="button" style="background-color:#28a745;">Send to Pharmacy</a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="7" style="text-align:center;">No patients in queue.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
